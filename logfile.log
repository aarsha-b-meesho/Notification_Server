2024/08/07 12:23:21 Migrate: Dropped existing tables successfully
2024/08/07 12:23:21 Migrate: Database migration completed successfully
2024/08/07 12:23:21 Ping: Successfully pinged Redis server
2024/08/07 12:23:21 FlushDB: Redis database flushed successfully
2024/08/07 12:23:21 returning new producer of kafka
2024/08/07 12:23:21 returning new consumer of kafka
2024/08/07 12:23:21 DeleteIndex: Index sms_index deleted successfully
2024/08/07 12:23:23 CreateIndex: Index sms_index created successfully
2024/08/07 12:23:23 Starting the server at :8000
2024/08/07 12:23:37 Create: SMS record created successfully
2024/08/07 12:23:37 CreateSMS: Successfully created SMS with ID 7086071 and sent to Kafka
2024/08/07 12:23:37 StartConsumingMessages: Message received from Kafka and added to queue: 7086071
2024/08/07 12:23:43 Create: SMS record created successfully
2024/08/07 12:23:43 CreateSMS: Successfully created SMS with ID 4372564 and sent to Kafka
2024/08/07 12:23:43 StartConsumingMessages: Message received from Kafka and added to queue: 4372564
2024/08/07 12:23:46 Create: SMS record created successfully
2024/08/07 12:23:46 CreateSMS: Successfully created SMS with ID 8677382 and sent to Kafka
2024/08/07 12:23:46 StartConsumingMessages: Message received from Kafka and added to queue: 8677382
2024/08/07 12:23:49 Raw: Executing query: SELECT id, phone_number, message, status, failure_code, failure_comments, created_at, updated_at FROM sms, args: []
2024/08/07 12:27:32 Migrate: Dropped existing tables successfully
2024/08/07 12:27:32 Migrate: Database migration completed successfully
2024/08/07 12:27:32 Ping: Successfully pinged Redis server
2024/08/07 12:27:32 FlushDB: Redis database flushed successfully
2024/08/07 12:27:32 returning new producer of kafka
2024/08/07 12:27:32 returning new consumer of kafka
2024/08/07 12:27:32 DeleteIndex: Index sms_index deleted successfully
2024/08/07 12:27:33 CreateIndex: Index sms_index created successfully
2024/08/07 12:27:33 Starting the server at :8000
2024/08/07 12:27:54 Raw: Executing query: SELECT id, phone_number, message, status, failure_code, failure_comments, created_at, updated_at FROM sms, args: []
2024/08/07 12:28:00 Create: SMS record created successfully
2024/08/07 12:28:00 CreateSMS: Successfully created SMS with ID 4458486 and sent to Kafka
2024/08/07 12:28:03 StartConsumingMessages: Message received from Kafka and added to queue: 4458486
2024/08/07 12:28:03 Raw: Executing query: SELECT id, phone_number, message, status, failure_code, failure_comments, created_at, updated_at FROM sms, args: []
2024/08/07 12:28:06 process_messages: Processing 1 messages
2024/08/07 12:28:06 Raw: Executing query: SELECT EXISTS(SELECT 1 FROM sms WHERE id = ?), args: [4458486]
2024/08/07 12:28:06 Raw: Executing query: SELECT id, phone_number, message FROM sms WHERE id = ?, args: [4458486]
2024/08/07 12:28:06 SIsMember: Checking if member '123456' is in set 'Black'
2024/08/07 12:28:06 UpdateSMSStatus: Updated SMS status for ID 4458486 successfully
2024/08/07 12:28:06 handle_successful_sms: SMS ID 4458486 processed successfully
2024/08/07 12:28:06 process_messages: Message processing complete
2024/08/07 12:28:08 Raw: Executing query: SELECT id, phone_number, message, status, failure_code, failure_comments, created_at, updated_at FROM sms, args: []
2024/08/07 12:42:38 Migrate: Dropped existing tables successfully
2024/08/07 12:42:38 Migrate: Database migration completed successfully
2024/08/07 12:42:38 Ping: Successfully pinged Redis server
2024/08/07 12:42:38 FlushDB: Redis database flushed successfully
2024/08/07 12:42:38 returning new producer of kafka
2024/08/07 12:42:38 returning new consumer of kafka
2024/08/07 12:42:38 DeleteIndex: Index sms_index deleted successfully
2024/08/07 12:42:38 CreateIndex: Index sms_index created successfully
2024/08/07 12:42:39 Starting the server at :8000
2024/08/07 12:42:39 Create: SMS record created successfully
2024/08/07 12:42:39 Create_SMS: Successfully created SMS with ID 9750234 and sent to Kafka
2024/08/07 12:42:39 StartConsumingMessages: Message received from Kafka and added to queue: 9750234
2024/08/07 12:42:46 Create: SMS record created successfully
2024/08/07 12:42:46 Create_SMS: Successfully created SMS with ID 1097017 and sent to Kafka
2024/08/07 12:42:46 StartConsumingMessages: Message received from Kafka and added to queue: 1097017
2024/08/07 12:42:58 Create: SMS record created successfully
2024/08/07 12:42:58 Create_SMS: Successfully created SMS with ID 7173338 and sent to Kafka
2024/08/07 12:42:58 StartConsumingMessages: Message received from Kafka and added to queue: 7173338
2024/08/07 12:43:00 Raw: Executing query: SELECT id, phone_number, message, status, failure_code, failure_comments, created_at, updated_at FROM sms, args: []
2024/08/07 12:43:03 Process_Messages: Processing 3 messages
2024/08/07 12:43:03 Raw: Executing query: SELECT EXISTS(SELECT 1 FROM sms WHERE id = ?), args: [9750234]
2024/08/07 12:43:03 Raw: Executing query: SELECT id, phone_number, message FROM sms WHERE id = ?, args: [9750234]
2024/08/07 12:43:03 SIsMember: Checking if member '123456' is in set 'Black'
2024/08/07 12:43:03 UpdateSMSStatus: Updated SMS status for ID 9750234 successfully
2024/08/07 12:43:03 handle_successful_sms: SMS ID 9750234 processed successfully
2024/08/07 12:43:03 Raw: Executing query: SELECT EXISTS(SELECT 1 FROM sms WHERE id = ?), args: [1097017]
2024/08/07 12:43:03 Raw: Executing query: SELECT id, phone_number, message FROM sms WHERE id = ?, args: [1097017]
2024/08/07 12:43:03 SIsMember: Checking if member '557857689' is in set 'Black'
2024/08/07 12:43:03 UpdateSMSStatus: Updated SMS status for ID 1097017 successfully
2024/08/07 12:43:03 handle_successful_sms: SMS ID 1097017 processed successfully
2024/08/07 12:43:04 Raw: Executing query: SELECT EXISTS(SELECT 1 FROM sms WHERE id = ?), args: [7173338]
2024/08/07 12:43:04 Raw: Executing query: SELECT id, phone_number, message FROM sms WHERE id = ?, args: [7173338]
2024/08/07 12:43:04 SIsMember: Checking if member '04806409' is in set 'Black'
2024/08/07 12:43:04 UpdateSMSStatus: Updated SMS status for ID 7173338 successfully
2024/08/07 12:43:04 handle_successful_sms: SMS ID 7173338 processed successfully
2024/08/07 12:43:04 Process_Messages: Message processing complete
2024/08/07 12:43:06 getDocByID: Received request for document with ID 5315169 from index sms_index
2024/08/07 12:43:06 GetDocumentByID: Document ID 5315169 not found in index sms_index
2024/08/07 12:43:06 getDocByID: Document with ID 5315169 not found in index sms_index
2024/08/07 12:43:08 GetAllDocuments: Retrieved 3 documents from index sms_index
2024/08/07 12:43:13 getDocByText: Received request for text 'how' from index sms_index
2024/08/07 12:43:13 SearchByText: Retrieved 1 documents containing text 'how' from index sms_index
2024/08/07 12:43:17 SearchByTimeRange: Retrieved 3 documents from index sms_index between 2024-08-04T14:27:52Z and 2024-08-07T17:27:54Z
2024/08/07 12:43:17 SearchByTimeRange: Retrieved 3 documents from index sms_index between 2024-08-04T14:27:52Z and 2024-08-07T17:27:54Z
2024/08/07 12:43:22 SIsMember: Checking if member '1234' is in set 'Black'
2024/08/07 12:43:22 SAdd: Adding member '1234' to set 'Black'
2024/08/07 12:43:22 SIsMember: Checking if member '2345' is in set 'Black'
2024/08/07 12:43:22 SAdd: Adding member '2345' to set 'Black'
2024/08/07 12:43:22 SIsMember: Checking if member '4567' is in set 'Black'
2024/08/07 12:43:22 SAdd: Adding member '4567' to set 'Black'
2024/08/07 12:43:25 SIsMember: Checking if member '4567' is in set 'Black'
2024/08/07 12:43:25 SRem: Removing member '4567' from set 'Black'
2024/08/07 12:43:25 Number 4567 successfully removed from blacklist
2024/08/07 12:43:27 SIsMember: Checking if member '4567' is in set 'Black'
2024/08/07 12:43:27 DeleteFromBlacklist: Failed to remove number from blacklist: number 4567 is not blacklisted
2024/08/07 12:43:29 SIsMember: Checking if member '123' is in set 'Black'
2024/08/07 12:43:29 GetBlacklistByID: Number not blacklisted: 123
2024/08/07 12:43:30 SIsMember: Checking if member '123' is in set 'Black'
2024/08/07 12:43:30 GetBlacklistByID: Number not blacklisted: 123
2024/08/07 12:43:33 SIsMember: Checking if member '1234' is in set 'Black'
2024/08/07 12:43:35 SMembers: Retrieving all members from set 'Black'
